{"version":3,"sources":["config/announcements.js","utils/DateUtil.js","components/Card/index.jsx","components/AddAnnouncement/index.jsx","images/logo.png","config/env.js","config/near.js","components/Nav/index.js","pages/Announcements.js","components/Button/index.jsx","images/home.png","pages/Home.js","Router.js","App.js","index.js"],"names":["GAS","LastSeen","date","ReactTimeAgo","locale","DateUtil","data","nano","oneday","Date","oneData","toISOString","format","Card","item","account","likeFunc","dislikeFunc","deleteFunc","width","base","md","borderWidth","borderRadius","overflow","mb","mt","bg","m","size","name","announcer","p","flex","display","alignItems","flexDirection","mr","textTransform","px","colorScheme","color","fontWeight","letterSpacing","fontSize","createdAt","ml","cursor","_hover","onClick","lineHeight","textAlign","text","justify","py","mx","variant","like","includes","length","dislike","AddAnnouncement","useDisclosure","isOpen","onOpen","onClose","finalRef","useRef","validateName","value","error","toLowerCase","finalFocusRef","initialValues","onSubmit","values","actions","setTimeout","a","window","contract","createAnnouncement","parseNearAmount","alert","JSON","stringify","setSubmitting","props","validate","field","form","isInvalid","errors","touched","id","placeholder","isLoading","isSubmitting","type","CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","keyPath","HOME","masterAccount","Error","nearEnv","Env","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","walletConnection","WalletConnection","accountId","getAccountId","Contract","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","logout","signOut","location","reload","replace","Nav","useState","balance","setBalance","getBalance","useCallback","useEffect","w","href","style","textDecoration","src","LOGO","h","as","Button","rightIcon","minH","target","Announcements","announcements","setAnnouncements","history","useHistory","initAnnouncements","push","fetchAnnouncements","getAnnouncements","uid","deleteAnnouncement","className","sort","b","localeCompare","map","index","CustomButton","children","Home","Bg","alt","rel","Router","exact","path","render","App","JavascriptTimeAgo","en","ru","nearInitPromise","init","then","ReactDOM","StrictMode","document","getElementById","catch","console"],"mappings":"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","file":"static/js/main.70b66b78.chunk.js","sourcesContent":["import { parseNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst GAS = 100000000000000;\n\nexport function getAllAnnouncements() {\n  return window.contract.getAnnouncements();\n}\n\nexport function likeAnc(uid) {\n  return window.contract.like(uid, GAS, parseNearAmount(0.0001 + \"\"));\n}\n\nexport function dislikeAnc(uid) {\n  return window.contract.dislike(uid, GAS, parseNearAmount(0.0001 + \"\"));\n}\n\nexport function deleteAnc(uid) {\n  return window.contract.deleteAnnouncement(\n    uid,\n    GAS,\n    parseNearAmount(0.0001 + \"\")\n  );\n}\n\nexport function createAnnouncement(data) {\n  return window.contract.createAnnouncement(\n    data,\n    GAS,\n    parseNearAmount(0.52 + \"\")\n  );\n}\n","import React from \"react\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\nimport { format } from \"date-fns\";\r\n\r\nfunction LastSeen({ date }) {\r\n  return <ReactTimeAgo date={date} locale=\"en-US\" />;\r\n}\r\n\r\nexport default function DateUtil(data) {\r\n  const nano = data / 1000000;\r\n\r\n  const oneday = new Date() - 60 * 60 * 24 * 1000;\r\n  const oneData = new Date(oneday);\r\n\r\n  if (new Date(nano).toISOString() < oneData.toISOString()) {\r\n    return format(new Date(nano), \"dd MMM yyyy\");\r\n  } else {\r\n    return <LastSeen date={nano} />;\r\n  }\r\n}\r\n","import { Avatar, Badge, Box, Flex, Text } from \"@chakra-ui/react\";\nimport { FaTrash } from \"react-icons/all\";\n\nimport React from \"react\";\nimport DateUtil from \"../../utils/DateUtil\";\n\nexport function Card({ item, account, likeFunc, dislikeFunc, deleteFunc }) {\n  return (\n    <Flex\n      width={{ base: \"340px\", md: \"450px\" }}\n      borderWidth=\"1px\"\n      borderRadius=\"lg\"\n      overflow=\"hidden\"\n      mb={2}\n      mt={4}\n      bg=\"white\"\n    >\n      <Avatar m={2} size=\"lg\" name={`${item.announcer[0]}`} />{\" \"}\n      <Box p={4} flex=\"1\">\n        <Box display=\"flex\" alignItems=\"baseline\">\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"baseline\"\n            mr=\"auto\"\n          >\n            <Badge\n              textTransform=\"lowercase\"\n              borderRadius=\"full\"\n              px=\"2\"\n              colorScheme=\"teal\"\n            >\n              {item.announcer}\n            </Badge>\n            <Box\n              color=\"gray.500\"\n              fontWeight=\"semibold\"\n              letterSpacing=\"wide\"\n              fontSize=\"xs\"\n            >\n              {DateUtil(item.createdAt)} &bull;\n            </Box>\n          </Box>\n          {account !== item.announcer ? null : (\n            <Box\n              color=\"gray.500\"\n              fontWeight=\"semibold\"\n              letterSpacing=\"wide\"\n              fontSize=\"xs\"\n              ml=\"2\"\n              cursor=\"pointer\"\n              _hover={{ color: \"red\" }}\n            >\n              {<FaTrash onClick={deleteFunc} />}\n            </Box>\n          )}\n        </Box>\n\n        <Text\n          mt=\"1\"\n          lineHeight=\"tight\"\n          color=\"black\"\n          textAlign=\"left\"\n          fontSize={18}\n        >\n          {item.text}\n        </Text>\n\n        <Flex justify=\"flex-end\" alignItems=\"baseline\" py=\"2\">\n          <Flex color=\"gray.500\" ml=\"2\">\n            <Flex cursor=\"pointer\" mx=\"5px\" variant=\"ghost\" onClick={likeFunc}>\n              <Box mr=\"2px\" _hover={{ color: \"blue\" }} color={ item.like.includes(account) ? \"blue\" : 'gray'}>\n                {item.like.length} like\n              </Box>\n            </Flex>{\" \"}\n            <Flex\n              cursor=\"pointer\"\n              mx=\"5px\"\n              variant=\"ghost\"\n              onClick={dislikeFunc}\n            >\n              <Box mr=\"2px\" _hover={{ color: \"blue\" }} color={ item.dislike.includes(account) ? \"blue\" : 'gray'}>\n                {item.dislike.length} dislike\n              </Box>\n            </Flex>\n          </Flex>\n        </Flex>\n      </Box>\n    </Flex>\n  );\n}\n","import { AddIcon } from \"@chakra-ui/icons\";\nimport {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  useDisclosure,\n  Button,\n  FormControl,\n  Input,\n  FormErrorMessage,\n  Flex,\n} from \"@chakra-ui/react\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useRef } from \"react\";\nimport { createAnnouncement } from \"../../config/announcements\";\n\nfunction AddAnnouncement() {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const finalRef = useRef();\n\n  function validateName(value) {\n    let error;\n    if (!value) {\n      error = \"Jeez! Enter an announcment YO!! ðŸ˜±\";\n    } else if (value.toLowerCase() === \"\") {\n      error = \"Jeez! Enter an announcment YO!! ðŸ˜±\";\n    } else if (value.length < 5) {\n      error = \"Come on! More words ðŸ˜‰\";\n    }\n    return error;\n  }\n\n  return (\n    <>\n      <Button\n        borderRadius=\"full\"\n        colorScheme=\"blue\"\n        mt={4}\n        onClick={onOpen}\n      >\n        Create Announcement\n      </Button>\n      <Modal finalFocusRef={finalRef} isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Create Announcement</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>\n            <Formik\n              initialValues={{ text: \"\" }}\n              onSubmit={(values, actions) => {\n                setTimeout(async () => {\n                  await createAnnouncement(values);\n                  alert(JSON.stringify(values, null, 2));\n                  actions.setSubmitting(false);\n                }, 1000);\n              }}\n            >\n              {(props) => (\n                <Form>\n                  <Field name=\"text\" validate={validateName}>\n                    {({ field, form }) => (\n                      <FormControl\n                        isInvalid={form.errors.text && form.touched.text}\n                      >\n                        {/* <FormLabel htmlFor=\"text\">Enter Announcement</FormLabel> */}\n                        <Input\n                          {...field}\n                          id=\"text\"\n                          placeholder=\"Tell the community\"\n                        />\n                        <FormErrorMessage>{form.errors.text}</FormErrorMessage>\n                      </FormControl>\n                    )}\n                  </Field>\n                  <Flex justify=\"flex-end\">\n                    <Button\n                      mt={4}\n                      mr={3}\n                      colorScheme=\"teal\"\n                      isLoading={props.isSubmitting}\n                      type=\"submit\"\n                    >\n                      Submit\n                    </Button>\n                    <Button colorScheme=\"red\" mt={4} mr={3} onClick={onClose}>\n                      Close\n                    </Button>\n                  </Flex>\n                </Form>\n              )}\n            </Formik>\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nexport default AddAnnouncement;\n","export default __webpack_public_path__ + \"static/media/logo.4fb17f30.png\";","const CONTRACT_NAME =\n  process.env.CONTRACT_NAME || \"dev-1651428809093-16954528884263\"; // put here a smart contracts' name\n\nfunction environment(env) {\n  switch (env) {\n    case \"production\":\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"development\":\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    case \"betanet\":\n      return {\n        networkId: \"betanet\",\n        nodeUrl: \"https://rpc.betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.betanet.near.org\",\n        helperUrl: \"https://helper.betanet.near.org\",\n        explorerUrl: \"https://explorer.betanet.near.org\",\n      };\n    case \"local\":\n      return {\n        networkId: \"local\",\n        nodeUrl: \"http://localhost:3030\",\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: \"http://localhost:4000/wallet\",\n        contractName: CONTRACT_NAME,\n      };\n    case \"test\":\n    case \"ci\":\n      return {\n        networkId: \"shared-test\",\n        nodeUrl: \"https://rpc.ci-testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    case \"ci-betanet\":\n      return {\n        networkId: \"shared-test-staging\",\n        nodeUrl: \"https://rpc.ci-betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      );\n  }\n}\n\nexport default environment;\n","import Env from \"./env\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = Env(\"testnet\");\n\nexport async function init() {\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearEnv\n    )\n  );\n  window.walletConnection = new WalletConnection(near);\n  window.accountId = window.walletConnection.getAccountId();\n  window.contract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.contractName,\n    {\n      // List here all view methods\n      viewMethods: [\"getAnnouncements\"],\n      // List call methods that change state\n      changeMethods: [\n        \"like\",\n        \"dislike\",\n        \"createAnnouncement\",\n        \"deleteAnnouncement\",\n      ],\n    }\n  );\n}\n\nexport async function accountBalance() {\n  return formatNearAmount(\n    (await window.walletConnection.account().getAccountBalance()).total,\n    2\n  );\n}\n\nexport async function getAccountId() {\n  return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n  window.walletConnection.requestSignIn(nearEnv.contractName);\n  window.walletConnection.requestSignIn(\n    nearEnv.contractName,\n    \"Near Announcement\"\n  );\n}\n\nexport function logout() {\n  window.walletConnection.signOut();\n  window.location.reload();\n  window.location.replace(\"/near-announcement-ui/#/\");\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { ChevronDownIcon } from \"@chakra-ui/icons\";\nimport {\n  Avatar,\n  Box,\n  Button,\n  Flex,\n  Image,\n  Link,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuList,\n} from \"@chakra-ui/react\";\nimport LOGO from \"../../images/logo.png\";\nimport { accountBalance } from \"../../config/near\";\n\nexport default function Nav({ logout }) {\n  const [balance, setBalance] = useState(\"0\");\n  const account = window.walletConnection.account().accountId;\n\n  const getBalance = useCallback(async () => {\n    if (account) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => {\n    getBalance();\n  }, [getBalance]);\n\n  if(!account) return 'loading...';\n\n  return (\n    <Flex bg=\"beige\" w=\"full\">\n      <Link href=\"/near-announcement-ui\" style={{ textDecoration: \"none\" }} mr=\"auto\">\n        <Image src={LOGO} h=\"50px\" w=\"50px\" ml=\"20px\" />\n      </Link>\n      <Box>\n        <Menu>\n          <MenuButton\n            colorScheme=\"teal\"\n            as={Button}\n            rightIcon={<ChevronDownIcon />}\n            m=\"8px 18px 8px 8px\"\n          >\n            â“ƒ {balance}\n          </MenuButton>\n          <MenuList>\n            <MenuItem minH=\"48px\" _hover={{ bg: \"teal.200\" }}>\n              <Avatar\n                m={2}\n                size=\"xs\"\n                name={`${account[0]}`}\n                mr=\"12px\"\n              />\n              <Link\n                href={`https://explorer.testnet.near.org/accounts/${account}`}\n                target=\"_blank\"\n                color=\"#000\"\n                style={{ textDecoration: \"none\" }}\n              >\n                {account}\n              </Link>\n            </MenuItem>\n            <MenuItem minH=\"40px\" _hover={{ bg: \"teal.200\" }}>\n              <span\n                style={{ color: \"#000\", textAlign: \"center\", width: \"83%\" }}\n                onClick={() => logout()}\n              >\n                Disconnect\n              </span>\n            </MenuItem>\n          </MenuList>\n        </Menu>\n      </Box>\n    </Flex>\n  );\n}\n","import \"../App.css\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  getAllAnnouncements,\n  dislikeAnc,\n  likeAnc,\n  deleteAnc,\n} from \"../config/announcements\";\nimport { Card } from \"../components/Card\";\nimport AddAnnouncement from \"../components/AddAnnouncement\";\nimport Nav from \"../components/Nav\";\nimport { Flex, Image, Text } from \"@chakra-ui/react\";\nimport LOGO from \"../images/logo.png\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Announcements = ({ logout }) => {\n  const account = window.walletConnection.account().accountId;\n  const [announcements, setAnnouncements] = useState([]);\n  const history = useHistory();\n\n  const initAnnouncements = useCallback(async () => {\n    if (!account) {\n      history.push(\"/\");\n    }\n  }, [account]);\n\n  useEffect(() => {\n    initAnnouncements();\n  }, [initAnnouncements]);\n\n  const fetchAnnouncements = useCallback(async () => {\n    if (account) {\n      setAnnouncements(await getAllAnnouncements());\n    }\n  });\n\n  useEffect(() => {\n    fetchAnnouncements();\n  }, []);\n\n  const dislikeFunc = async (id) => {\n    await dislikeAnc({ uid: id });\n  };\n\n  const likeFunc = async (id) => {\n    await likeAnc({ uid: id });\n  };\n\n  const deleteFunc = async (id) => {\n    await deleteAnc({ uid: id });\n  };\n\n  return (\n    <div className=\"App\">\n      <Nav logout={logout} />\n      <AddAnnouncement />\n      {announcements\n        ?.sort((a, b) => b.createdAt.localeCompare(a.createdAt))\n        .map((item, index) => (\n          <Card\n            key={index}\n            item={item}\n            account={account}\n            likeFunc={() => likeFunc(item.uid)}\n            dislikeFunc={() => dislikeFunc(item.uid)}\n            deleteFunc={() => deleteFunc(item.uid)}\n          />\n        ))}\n\n      {announcements?.length < 1 && (\n        <Flex flexDirection=\"column\" mt=\"30px\">\n          <Image h=\"300px\" w=\"300px\" src={LOGO} />\n          <Text>No annoucnements</Text>\n        </Flex>\n      )}\n    </div>\n  );\n};\n\nexport default Announcements;\n","import { Button } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nexport default function CustomButton({ rightIcon,  colorScheme, variant, onClick, children }) {\n  return (\n    <Button\n      rightIcon={rightIcon}\n      colorScheme={colorScheme}\n      variant={variant}\n      onClick={onClick}\n    >\n     { children}\n    </Button>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/home.dc2a44c9.png\";","import { WarningTwoIcon, ArrowForwardIcon } from \"@chakra-ui/icons\";\nimport \"../App.css\";\nimport { useCallback, useEffect } from \"react\";\nimport Button from \"../components/Button\";\nimport { Flex, Link, Text } from \"@chakra-ui/react\";\nimport Bg from '../images/home.png'\nimport { useHistory } from \"react-router-dom\";\n\n\nconst Home = ({ logout, login }) => {\n  const account = window.walletConnection.account().accountId;\n  const history = useHistory();\n  \n  const initAnnouncements = useCallback(async () => {\n    if (account) {\n      history.push(\"/announcements\");\n    }\n  });\n\n  useEffect(() => {\n    initAnnouncements();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={Bg} className=\"App-logo\" alt=\"logo\" />\n        <Text className=\"App-link\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Near Announcements\n        </Text>\n        {account ? (\n          <Flex flexDirection='column'>\n            <Link href=\"/announcements\">\n              Go to Announcements\n            </Link>\n            <Button\n              rightIcon={<WarningTwoIcon />}\n              colorScheme=\"red\"\n              variant=\"solid\"\n              onClick={() => logout()}\n              mt='1.5rem'\n            >\n              Disconnect\n            </Button>\n          </Flex>\n        ) : (\n          <Button\n            rightIcon={<ArrowForwardIcon />}\n            colorScheme=\"teal\"\n            variant=\"solid\"\n            onClick={() => login()}\n          >\n            Connect\n          </Button>\n        )}\n      </header>\n    </div>\n  );\n};\n\nexport default Home;\n","import { HashRouter, Switch, Route } from \"react-router-dom\";\nimport Announcements from \"./pages/Announcements\";\nimport Home from \"./pages/Home\";\n\nconst Router = ({ logout, login }) => {\n  return (\n    <HashRouter>\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={(props) => <Home {...props} logout={logout} login={login} />}\n        />\n        <Route\n          path=\"/announcements\"\n          render={(props) => <Announcements {...props} logout={logout} />}\n        />\n      </Switch>\n    </HashRouter>\n  );\n};\n\nexport default Router;\n","import \"./App.css\";\nimport Router from \"./Router\";\n\nfunction App({ logout, login }) {\n  return (\n    <div>\n      <Router logout={logout} login={login} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { init, login, logout } from \"./config/near\";\nimport JavascriptTimeAgo from \"javascript-time-ago\";\n\n// The desired locales.\nimport en from \"javascript-time-ago/locale/en\";\nimport ru from \"javascript-time-ago/locale/ru\";\n\nJavascriptTimeAgo.locale(en);\nJavascriptTimeAgo.locale(ru);\n\nwindow.nearInitPromise = init()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <ChakraProvider>\n          <App login={login} logout={logout} />\n        </ChakraProvider>\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\n"],"sourceRoot":""}